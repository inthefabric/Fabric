using System;
using System.Runtime.Caching;
using Fabric.New.Domain;

namespace Fabric.New.Infrastructure.Cache {

	/*================================================================================================*/
	public interface IMemCache {


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		//void AddExists<T>(long pVertexTypeId, CacheItemPolicy pPolicy=null) where T : IVertex;
		
		/*--------------------------------------------------------------------------------------------*/
		//bool? FindExists<T>(long pVertexTypeId) where T : IVertex;

		/*--------------------------------------------------------------------------------------------*/
		//bool? RemoveExists<T>(long pVertexTypeId) where T : IVertex;


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		void AddVertex<T>(T pVertex, CacheItemPolicy pPolicy=null) where T : IVertex;

		/*--------------------------------------------------------------------------------------------*/
		T FindVertex<T>(long pVertexTypeId) where T : IVertex;

		/*--------------------------------------------------------------------------------------------*/
		T RemoveVertex<T>(long pVertexTypeId) where T : IVertex;


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		void AddMember(long pAppId, long pUserId, Member pMember, CacheItemPolicy pPolicy=null);

		/*--------------------------------------------------------------------------------------------*/
		Member FindMember(long pAppId, long pUserId);

		/*--------------------------------------------------------------------------------------------*/
		//Member RemoveMember(long pAppId, long pUserId);

		/*--------------------------------------------------------------------------------------------*/
		Member RemoveMember(long pMemberId);


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		void AddOauthAccess(string pToken, Tuple<OauthAccess, long, long?> pData, int pExpiresInSec);

		/*--------------------------------------------------------------------------------------------*/
		Tuple<OauthAccess, long, long?> FindOauthAccess(string pToken);

		/*--------------------------------------------------------------------------------------------*/
		//Tuple<OauthAccess, long, long?> RemoveOauthAccess(string pToken);

		/*--------------------------------------------------------------------------------------------*/
		int RemoveOauthAccesses(long pAppId, long? pUserId);

	}

}